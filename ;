function bindSectionClickHandlers()
{
	// Attach tap and click handler to each of the section dividors	
	$(".section-header-active,.section-header-inactive").each(function()
	{
		$(this).click(function()
		{
			toggleSection(this);
		});
	});
}

function toggleSection(obj)
{
	// Get section id
	sectionId = $(obj).attr("id");

	// Get current state
	if ($(obj).attr("class") == "section-header-inactive")
	{
		// Expand section content if necessary
		$(obj).next(".section-content").css("display", "block");

		// Replace section header background with active background
		$(obj).attr("class", "section-header-active");

		// Replace section header arrow with active arrow
		$(obj).children().each(function()
		{
			// Check to see if this is the active / non active arrow
			if ($(this).hasClass("section-arrow"))
			{
				// Replace with in-active arrow
				$(this).attr("src", "images/active-arrow.png");
			}
		});
	}
	else
	{
		// Colapse section content if necessary
		$(obj).next(".section-content").css("display", "none");

		// Replace section header background with active background
		$(obj).attr("class", "section-header-inactive");

		// Replace section header arrow with active arrow
		$(obj).children().each(function()
		{
			// Check to see if this is the active / non active arrow
			if ($(this).hasClass("section-arrow"))
			{
				// Replace with in-active arrow
				$(this).attr("src", "images/inactive-arrow.png");
			}
		});
	}
}

function buildQuizQuestion(questionObj)
{
	// Pull the lesson id from the question object
	var lessonId = questionObj.lessonId;

	// Pull the question number form the question object
	var questionNumber = questionObj.questionOrder;

	// Instantiate answer choice variable
	var answerChoices = "";

	// Build question opening container string
	var openContainer = '<div id="lesson-'+lessonId+'-question-'+questionNumber+'" class="section-question"><ul><li><span class="section-quiz-question">"'+questionObj.content+'"</span><ul style="width: 100%">';

	// Loop through possible responses
	for (var x in questionObj.answerChoices)
	{
		answerChoices += '<li><input type="radio" class="section-quiz-question-response-input" /><label class="section-quiz-question-response-label">'+questionObj.answerChoices[x]+'</label></li>'
	}

	// Build question closing container string
	var closeContainer = '</ul></li></ul></div>';

	// Append question to content container
	$('[class="section-content"][data-lessonId="'+lessonId+'"]').append(openContainer+answerChoices+closeContainer);
}

function buildQuiz(quizObj)
{
	// Instantiate a new quiz object to contain ordered questions
	var quiz = new Object();

	// Loop through questions
	for (var x in quizObj)
	{
		// Put questions in order
		quiz[quizObj[x].questionOrder] = quizObj[x];		
	}

	// Loop through the ordered questions
	for (var x in quiz)
	{
		// Build quiz question
		buildQuizQuestion(quiz[x]);
	}
}

